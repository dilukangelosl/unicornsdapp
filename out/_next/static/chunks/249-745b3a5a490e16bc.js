"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{38249:function(e,t,n){n.d(t,{Z:function(){return g}});var s=n(34051),r=n.n(s),a=n(85893),i=n(67294),c=n(6212),o=n(10682),l=n(69795),u=n(56717),d=n(74931),h=n(9669),m=n.n(h),p=n(3454),x=(n(3283),n(98130));function f(e,t,n,s,r,a,i){try{var c=e[a](i),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(s,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var a=e.apply(t,n);function i(e){f(a,s,r,i,c,"next",e)}function c(e){f(a,s,r,i,c,"throw",e)}i(void 0)}))}}function g(){var e=function(){j>1&&w(j-1)},t=function(e,t,n,s,r,a){U({show:e,title:t,link:n,progress:s,dismiss:r,buttonText:a})},n=function(){return(0,a.jsxs)("div",{className:"btncontainer",children:[(0,a.jsxs)("div",{className:"qtycontrols",children:[(0,a.jsx)("button",{className:"btn btn-clear",onClick:e,children:"-"}),(0,a.jsx)("span",{className:"mintqty",children:j}),(0,a.jsx)("button",{className:"btn btn-clear bluebtn",onClick:Q,children:"+"})]}),(0,a.jsx)("button",{className:"herobtn2",onClick:v(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h){e.next=3;break}return e.abrupt("return");case 3:if(!F.paused){e.next=7;break}return e.abrupt("return",d.ZP.error("Sale is not Active yet"));case 7:if(!F.whiteListingSale){e.next=10;break}if(0!=P.length){e.next=10;break}return e.abrupt("return",d.ZP.error("Your address is not whitelisted"));case 10:if((0,d.ZP)("Please wait..",{icon:"\ud83d\udc4f"}),!F.whiteListingSale){e.next=18;break}return e.next=15,(0,u.OZ)(y,j,P,null===g||void 0===g?void 0:g.getSigner(),h);case 15:n=e.sent,e.next=21;break;case 18:return e.next=20,(0,u.DT)(j,null===g||void 0===g?void 0:g.getSigner(),h);case 20:n=e.sent;case 21:return t(!0,"Mint submitted","https://etherscan.io/tx/".concat(n.hash),!0,!1,""),e.next=24,n.wait(1);case 24:t(!0,"Mint Success","https://etherscan.io/tx/".concat(n.hash),!1,!0,"Done"),e.next=33;break;case 27:e.prev=27,e.t0=e.catch(0),console.log("undefined"===typeof e.t0?"undefined":(s=e.t0)&&"undefined"!==typeof Symbol&&s.constructor===Symbol?"symbol":typeof s),console.log("Error",e.t0.toString()),e.t0.toString().includes("execution reverted")?d.ZP.error("Please contact Admins"):d.ZP.error("Insufficient funds or Transaction Error"),t(!1,"","",!1,!0,"Close");case 33:case"end":return e.stop()}var s}),e,null,[[0,27]])}))),disabled:!h&&!E,children:V()})]})},s=(0,l.Ge)(),h=s.account,f=s.active,g=s.library,b=(0,i.useState)(1),j=b[0],w=b[1],N=(0,i.useState)(!1),y=N[0],k=N[1],S=(0,i.useState)([]),P=S[0],C=S[1],Z=(0,i.useState)(!0),E=Z[0],T=Z[1],M=(0,i.useState)(!0),A=M[0],D=M[1],L=(0,i.useState)(!1),W=L[0],O=L[1],_=(0,i.useState)({show:!1,title:"",link:"",progress:!1,dismiss:!1,buttonText:""}),G=_[0],U=_[1],B=(0,i.useState)({totalSupply:40,maxSupply:0,cost:0,whitelistCost:0,whiteListingSale:!1,maxMintAmountPerTransaction:1,paused:!1,maxMintAmountPerWallet:1,maxMintAmountPerWhitelist:1}),F=B[0],H=B[1];(0,i.useEffect)((function(){f&&setTimeout((function(){!function(){q.apply(this,arguments)}()}),500)}),[f]);var I=function(){return U(!1)};function q(){return(q=v(r().mark((function e(){var t,n,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,d.ZP)("Toons contract.. please wait"),T(!0),e.next=4,(0,u.EO)(null===g||void 0===g?void 0:g.getSigner());case 4:if(t=e.sent,console.log("Contract info",t),H(t),!t.whiteListingSale){e.next=26;break}return console.log("Whitelisting sale Enabled"),D(!0),e.next=12,Y();case 12:if(n=e.sent,console.log("DEBUG : WL1 : ",n),0!=n.length){e.next=22;break}return e.next=17,J();case 17:s=e.sent,console.log("DEBUG : WL1 : ",s),C(s),e.next=23;break;case 22:C(n),k(!0);case 23:D(!1),e.next=27;break;case 26:D(!1);case 27:T(!1),(0,d.ZP)("Contract loaded, Happy minting!");case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return z.apply(this,arguments)}function z(){return(z=v(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().get("https://us-central1-mofos-69a62.cloudfunctions.net/app/getproof/toons/og/".concat(h));case 3:return t=e.sent,n=t.data,console.log("OG API Data",n),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),console.log("Could not reach the server for whitelisting"),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function J(){return K.apply(this,arguments)}function K(){return(K=v(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m().get("https://us-central1-mofos-69a62.cloudfunctions.net/app/getproof/toons/wl/".concat(h));case 3:return t=e.sent,n=t.data,console.log("Whitelisting API Data",n),e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(0),console.log("Could not reach the server for whitelisting"),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Q(){return R.apply(this,arguments)}function R(){return(R=v(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.length>0?j<F.maxMintAmountPerWhitelist&&w(j+1):j<2&&w(j+1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(){return h?"Mint":"Connect Wallet"},X=Date.UTC(2021,1,5,4);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mintmodalcontainer",children:(0,a.jsx)(c.Z,{show:G.show,onHide:I,className:"mymodal",children:(0,a.jsx)(c.Z.Body,{children:(0,a.jsxs)("div",{className:"mintmodal",children:[(0,a.jsx)("img",{src:"/success.png",className:"mintmodalimage",alt:"Mintmodalimage"}),(0,a.jsx)("h2",{children:G.title}),(0,a.jsxs)("h3",{children:["See the transaction on"," ",(0,a.jsx)("a",{href:G.link,target:"_blank",rel:"noreferrer",children:"Etherscan"})]}),G.progress&&(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"sr-only"})}),(0,a.jsx)("h3",{children:G.body}),G.dismiss&&(0,a.jsx)("button",{className:"btn herobtn",onClick:I,children:G.buttonText})]})})})}),(0,a.jsx)("div",{className:"hero",children:(0,a.jsx)(o.Z,{children:(0,a.jsx)("div",{className:"mintformgradient",children:(0,a.jsxs)("div",{className:"mintform",children:[(0,a.jsx)("img",{src:"/toonsc.png",alt:"",className:"mingcover"}),(0,a.jsx)("img",{src:"/tl.png",alt:"",className:"mintlogo"}),!W&&(0,a.jsx)(x.ZP,{date:X,renderer:function(e){return e.completed?(O(!0),(0,a.jsx)(a.Fragment,{})):(0,a.jsxs)("div",{className:"countcontainer",children:[(0,a.jsx)("h1",{className:"countdowntitle",children:"Countdown to Pre Sale"}),(0,a.jsxs)("div",{className:"countdowncomponent",children:[(0,a.jsxs)("div",{className:"timecontainer",children:[(0,a.jsx)("div",{className:"timerholder",children:e.hours}),(0,a.jsx)("span",{className:"daytitle",children:"Hours"})]}),(0,a.jsxs)("div",{className:"timecontainer",children:[(0,a.jsx)("div",{className:"timerholder",children:e.minutes}),(0,a.jsx)("span",{className:"daytitle",children:"Minutes"})]}),(0,a.jsxs)("div",{className:"timecontainer",children:[(0,a.jsx)("div",{className:"timerholder",children:e.seconds}),(0,a.jsx)("span",{className:"daytitle",children:"Seconds"})]})]})]})}}),W&&!f&&(0,a.jsx)(p.Z,{}),W&&f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"minttitle",children:"SOLD OUT"}),A&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"wlloadingtext",children:"Please wait till we check your address.."}),(0,a.jsx)("div",{className:"spinner-border",role:"status",children:(0,a.jsx)("span",{className:"sr-only"})})]}),W&&!F.whiteListingSale&&f&&!A&&n(),W&&f&&!A&&P.length>0&&n()]})]})})})})]})}}}]);